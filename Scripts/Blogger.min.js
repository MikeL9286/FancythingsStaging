(function (e, t, n) { function r(e) { var t = e.content.match('<img class="post-thumbnail".*/>'); if (t != null) e.thumbnailUrl = t[0].match("http.*jpg|http.*png|http.*jpeg"); else e.thumbnailUrl = "img/logo250x250.png" } function i(e) { var t = e.content.match(/\<script src="http:\/\/www.linkytools.com.*<\/script>/); if (t == null) return; var n = t[0].match(/id=(.*)\"/)[1]; var r = '<p style="text-align:center"><a href="http://www.linkytools.com/wordpress_list.aspx?id=' + n + '&type=thumbnail" target="_blank" rel="nofollow">Click here</a> to join the Weekly Favorites link up!</p>'; e.content = e.content.replace(t, r) } e.GetPosts = function () { t.ajax({ type: "GET", url: "https://www.googleapis.com/blogger/v3/blogs/5073145937869562696/posts?maxResults=9&key=AIzaSyBxl86QJ7gRccq_egFmP3J6Zhy3cQLluIk", dataType: "json", async: false, processData: "false", error: function (e, t, n) { alert("Error on GetPosts: " + url) }, success: function (t) { e.posts = t.items; e.posts.forEach(function (e) { i(e); r(e) }) } }) }; e.GetPostById = function (n) { t.ajax({ type: "GET", url: "https://www.googleapis.com/blogger/v3/blogs/5073145937869562696/posts/" + n + "?key=AIzaSyBxl86QJ7gRccq_egFmP3J6Zhy3cQLluIk", dataType: "json", async: false, processData: "false", error: function (e, t, n) { alert("Error on GetPostById: " + url) }, success: function (t) { e.posts = t; i(e.posts); r(e.posts) } }) }; e.GetArchivePosts = function () { t.ajax({ type: "GET", url: "https://www.googleapis.com/blogger/v3/blogs/5073145937869562696/posts?maxResults=500&fetchImages=false&key=AIzaSyBxl86QJ7gRccq_egFmP3J6Zhy3cQLluIk", dataType: "json", async: false, processData: "false", error: function (e, t, n) { console.log("Error in GetArchivePosts: " + url) }, success: function (t) { e.posts = _.chain(t.items).map(function (e, t) { e.publishedOn = moment(e.published).format("MMMM YYYY"); return e }).groupBy("publishedOn").map(function (e, t) { return { group: t, posts: e } }).value() } }) }; e.GetSearchedPosts = function (i) { t.ajax({ type: "GET", url: "https://www.googleapis.com/blogger/v3/blogs/5073145937869562696/posts/search?q=" + i + "&key=AIzaSyBxl86QJ7gRccq_egFmP3J6Zhy3cQLluIk", dataType: "json", async: false, processData: "false", error: function (e, t, n) { alert("Error on GetSearchedPosts: " + url) }, success: function (i) { if (i.items != n) { e.posts = i.items; e.posts.forEach(function (e) { r(e) }); t(".search-description").prepend("<h4>Top search results for: " + window.location.href.match("searchKey=(.*)")[1] + "</h4> (" + e.posts.length + " results)") } else { t(".search-description").prepend("<h4>No results found for: " + window.location.href.match("searchKey=(.*)")[1] + "</h4>") } } }) }; e.GetRelatedPosts = function () { e.posts.labels.forEach(function (n) { t.ajax({ type: "GET", url: "https://www.googleapis.com/blogger/v3/blogs/5073145937869562696/posts/search?q=" + n + "&fields=items(id%2Cpublished%2Ctitle%2Ccontent)&key=AIzaSyBxl86QJ7gRccq_egFmP3J6Zhy3cQLluIk", dataType: "json", async: false, processData: "false", error: function (e, t, n) { alert("Error on GetRelatedPosts: " + url) }, success: function (t) { e.relatedPosts = _.filter(t.items.splice(0, 6), function (t) { r(t); return t.id != e.posts.id && !_.contains(e.relatedPosts, t) }) } }) }) }; })(window.Blogger = window.Blogger || {}, jQuery)